(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),EMPTY={};function shallowEqual(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EMPTY,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EMPTY,aKeys=Object.keys(a),bKeys=Object.keys(b);return a===b||aKeys.length===bKeys.length&&aKeys.every((function(key){return a[key]===b[key]}))}var src_embed=__webpack_require__(128);function updateMultipleDatasetsInView(view,data){Object.keys(data).forEach((function(name){!function updateSingleDatasetInView(view,name,value){value&&(!function isFunction(functionToCheck){return!!functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}(value)?view.change(name,src_embed.b.changeset().remove((function(){return!0})).insert(value)):value(view.data(name)))}(view,name,data[name])}))}function getUniqueFieldNames(objects){var fields=new Set;return objects.forEach((function(o){Object.keys(o).forEach((function(field){fields.add(field)}))})),fields}var NOOP=function NOOP(){};function addSignalListenersToView(view,signalListeners){var signalNames=Object.keys(signalListeners);return signalNames.forEach((function(signalName){try{view.addSignalListener(signalName,signalListeners[signalName])}catch(error){console.warn("Cannot add invalid signal listener.",error)}})),signalNames.length>0}var fast_deep_equal=__webpack_require__(296),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function removeSignalListenersFromView(view,signalListeners){var signalNames=Object.keys(signalListeners);return signalNames.forEach((function(signalName){try{view.removeSignalListener(signalName,signalListeners[signalName])}catch(error){console.warn("Cannot remove invalid signal listener.",error)}})),signalNames.length>0}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var VegaEmbed_VegaEmbed=function(_React$PureComponent){function VegaEmbed(){var _getPrototypeOf2,_this;_classCallCheck(this,VegaEmbed);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(VegaEmbed)).call.apply(_getPrototypeOf2,[this].concat(args)))),"containerRef",react_default.a.createRef()),_defineProperty(_assertThisInitialized(_this),"viewPromise",void 0),_defineProperty(_assertThisInitialized(_this),"handleError",(function(error){var _this$props$onError=_this.props.onError;(void 0===_this$props$onError?NOOP:_this$props$onError)(error),console.warn(error)})),_defineProperty(_assertThisInitialized(_this),"modifyView",(function(action){_this.viewPromise&&_this.viewPromise.then((function(view){return view&&action(view),!0})).catch(_this.handleError)})),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(VegaEmbed,_React$PureComponent),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(VegaEmbed,[{key:"componentDidMount",value:function componentDidMount(){this.createView()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this,fieldSet=getUniqueFieldNames([this.props,prevProps]);if(fieldSet.delete("className"),fieldSet.delete("signalListeners"),fieldSet.delete("spec"),fieldSet.delete("style"),Array.from(fieldSet).some((function(f){return _this2.props[f]!==prevProps[f]})))this.clearView(),this.createView();else{var specChanges=function computeSpecChanges(newSpec,oldSpec){if(newSpec===oldSpec)return!1;var changes={width:!1,height:!1,isExpensive:!1},fieldNames=getUniqueFieldNames([newSpec,oldSpec]);return!fieldNames.has("width")||"width"in newSpec&&"width"in oldSpec&&newSpec.width===oldSpec.width||("width"in newSpec&&"number"==typeof newSpec.width?changes.width=newSpec.width:changes.isExpensive=!0),!fieldNames.has("height")||"height"in newSpec&&"height"in oldSpec&&newSpec.height===oldSpec.height||("height"in newSpec&&"number"==typeof newSpec.height?changes.height=newSpec.height:changes.isExpensive=!0),fieldNames.delete("width"),fieldNames.delete("height"),_toConsumableArray(fieldNames).some((function(field){return!(field in newSpec&&field in oldSpec&&fast_deep_equal_default()(newSpec[field],oldSpec[field]))}))&&(changes.isExpensive=!0),!(!1===changes.width&&!1===changes.height&&!changes.isExpensive)&&changes}(this.props.spec,prevProps.spec),newSignalListeners=this.props.signalListeners,oldSignalListeners=prevProps.signalListeners;if(specChanges)if(specChanges.isExpensive)this.clearView(),this.createView();else{var areSignalListenersChanged=!shallowEqual(newSignalListeners,oldSignalListeners);this.modifyView((function(view){!1!==specChanges.width&&view.width(specChanges.width),!1!==specChanges.height&&view.height(specChanges.height),areSignalListenersChanged&&(oldSignalListeners&&removeSignalListenersFromView(view,oldSignalListeners),newSignalListeners&&addSignalListenersToView(view,newSignalListeners)),view.run()}))}else{var _areSignalListenersChanged=!shallowEqual(newSignalListeners,oldSignalListeners);this.modifyView((function(view){_areSignalListenersChanged&&(oldSignalListeners&&removeSignalListenersFromView(view,oldSignalListeners),newSignalListeners&&addSignalListenersToView(view,newSignalListeners)),view.run()}))}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.clearView()}},{key:"createView",value:function createView(){var _this$props=this.props,spec=_this$props.spec,onNewView=_this$props.onNewView,_this$props$signalLis=_this$props.signalListeners,signalListeners=void 0===_this$props$signalLis?{}:_this$props$signalLis,options=_objectWithoutProperties(_this$props,["spec","onNewView","signalListeners"]);this.containerRef.current&&(this.viewPromise=Object(src_embed.a)(this.containerRef.current,spec,options).then((function(_ref){var view=_ref.view;return addSignalListenersToView(view,signalListeners)&&view.run(),view})).catch(this.handleError),onNewView&&this.modifyView(onNewView))}},{key:"clearView",value:function clearView(){return this.modifyView((function(view){view.finalize()})),this.viewPromise=void 0,this}},{key:"render",value:function render(){var _this$props2=this.props,className=_this$props2.className,style=_this$props2.style;return(react_default.a.createElement("div",{ref:this.containerRef,className:className,style:style}))}}]),VegaEmbed}(react_default.a.PureComponent);function Vega_typeof(obj){return(Vega_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Vega_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Vega_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Vega_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Vega_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Vega_possibleConstructorReturn(self,call){return!call||"object"!==Vega_typeof(call)&&"function"!=typeof call?Vega_assertThisInitialized(self):call}function Vega_getPrototypeOf(o){return(Vega_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Vega_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Vega_setPrototypeOf(o,p){return(Vega_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Vega_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vega_Vega}));var Vega_Vega=function(_React$PureComponent){function Vega(){var _getPrototypeOf2,_this;Vega_classCallCheck(this,Vega);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return Vega_defineProperty(Vega_assertThisInitialized(_this=Vega_possibleConstructorReturn(this,(_getPrototypeOf2=Vega_getPrototypeOf(Vega)).call.apply(_getPrototypeOf2,[this].concat(args)))),"vegaEmbed",react_default.a.createRef()),Vega_defineProperty(Vega_assertThisInitialized(_this),"handleNewView",(function(view){_this.update();var _this$props$onNewView=_this.props.onNewView;(void 0===_this$props$onNewView?NOOP:_this$props$onNewView)(view)})),_this}return function Vega_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Vega_setPrototypeOf(subClass,superClass)}(Vega,_React$PureComponent),function Vega_createClass(Constructor,protoProps,staticProps){return protoProps&&Vega_defineProperties(Constructor.prototype,protoProps),staticProps&&Vega_defineProperties(Constructor,staticProps),Constructor}(Vega,[{key:"componentDidMount",value:function componentDidMount(){this.update()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){shallowEqual(this.props.data,prevProps.data)||this.update()}},{key:"update",value:function update(){var data=this.props.data;data&&this.vegaEmbed.current&&Object.keys(data).length>0&&this.vegaEmbed.current.modifyView((function(view){updateMultipleDatasetsInView(view,data),view.resize().run()}))}},{key:"render",value:function render(){var _this$props=this.props,restProps=(_this$props.data,Vega_objectWithoutProperties(_this$props,["data"]));return react_default.a.createElement(VegaEmbed_VegaEmbed,_extends({ref:this.vegaEmbed},restProps,{onNewView:this.handleNewView}))}}]),Vega}(react_default.a.PureComponent);Vega_defineProperty(Vega_Vega,"defaultProps",{data:{}})},190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return VegaLite}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Vega__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function VegaLite(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Vega__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{mode:"vega-lite"}))}},297:function(module){module.exports=JSON.parse('{"table":[{"category":"A","amount":28},{"category":"B","amount":55},{"category":"C","amount":43},{"category":"D","amount":91},{"category":"E","amount":81},{"category":"F","amount":53},{"category":"G","amount":19},{"category":"H","amount":87}]}')},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Demo}));__webpack_require__(20),__webpack_require__(22),__webpack_require__(23),__webpack_require__(18),__webpack_require__(115),__webpack_require__(125),__webpack_require__(55),__webpack_require__(90),__webpack_require__(126),__webpack_require__(17),__webpack_require__(26),__webpack_require__(21);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(56),_react_vega_src__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(664),_react_vega_src__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(190);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var data1={myData:[{a:"A",b:20},{a:"B",b:34},{a:"C",b:55},{a:"D",b:19},{a:"E",b:40},{a:"F",b:34},{a:"G",b:91},{a:"H",b:78},{a:"I",b:25}]},data2={myData:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:43},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},spec1={data:{name:"myData"},description:"A simple bar chart with embedded data.",encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"}},mark:"bar"},spec2={data:{name:"myData"},description:"A simple bar chart with embedded data.",encoding:{x:{field:"b",type:"quantitative"},y:{field:"a",type:"ordinal"}},mark:"bar"},BarChart=Object(_react_vega_src__WEBPACK_IMPORTED_MODULE_14__.a)({mode:"vega-lite",spec:spec1}),_ref=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("iframe",{title:"star",src:"https://ghbtns.com/github-btn.html?user=vega&repo=react-vega&type=star&count=true",frameBorder:"0",scrolling:"0",width:"100px",height:"20px"}),_ref2=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("code",null,"<VegaLite>")," React Component"),_ref3=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("pre",null,"<VegaLite data={this.state.data} spec={this.state.spec} />"),_ref4=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("code",null,"ReactVegaLite.createClassFromLiteSpec()")),_ref5=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("pre",null,"const BarChart = ReactVegaLite.createClassFromLiteSpec(spec1);\n<BarChart data={this.state.data} />"),Demo=function(_React$Component){function Demo(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Demo),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(Demo).call(this,props))).state={data:data1,info:"",spec:spec1},_this.handleHover=_this.handleHover.bind(_assertThisInitialized(_this)),_this.handleToggleSpec=_this.handleToggleSpec.bind(_assertThisInitialized(_this)),_this.handleUpdateData=_this.handleUpdateData.bind(_assertThisInitialized(_this)),_this.handlers={hover:_this.handleHover},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Demo,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Demo,[{key:"handleHover",value:function handleHover(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_13__.action)("hover",{limit:5})(args),this.setState({info:JSON.stringify(args)})}},{key:"handleToggleSpec",value:function handleToggleSpec(){var spec=this.state.spec;Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_13__.action)("toggle spec")(spec),spec===spec1?this.setState({spec:spec2}):this.setState({spec:spec1})}},{key:"handleUpdateData",value:function handleUpdateData(){var data=this.state.data;Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_13__.action)("update data")(data),data===data1?this.setState({data:data2}):data===data2&&this.setState({data:data1})}},{key:"render",value:function render(){var _this$state=this.state,data=_this$state.data,spec=_this$state.spec,info=_this$state.info;return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{float:"right"}},_ref),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("button",{type:"button",onClick:this.handleToggleSpec},"Toggle Spec"),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("button",{type:"button",onClick:this.handleUpdateData},"Update data"),_ref2,"Will recompile when spec changes and update when data changes.",_ref3,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_react_vega_src__WEBPACK_IMPORTED_MODULE_15__.a,{data:data,spec:spec,signalListeners:this.handlers}),_ref4,"Use the given spec to create a reusable component.",_ref5,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(BarChart,{data:data,signalListeners:this.handlers}),info)}}]),Demo}(react__WEBPACK_IMPORTED_MODULE_12___default.a.Component);Demo.displayName="Demo",Demo.__docgenInfo={description:"",methods:[{name:"handleHover",docblock:null,modifiers:[],params:[{name:"...args",type:null}],returns:null},{name:"handleToggleSpec",docblock:null,modifiers:[],params:[],returns:null},{name:"handleUpdateData",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Demo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/ReactVegaLiteDemo.jsx"]={name:"Demo",docgenInfo:Demo.__docgenInfo,path:"stories/ReactVegaLiteDemo.jsx"})},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChangingDimensionDemo}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_react_vega_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(190);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}for(var values=[],i=0;i<100;i++)values.push({a:"X".concat(i),b:Math.round(1e3*Math.random())});var ChangingDimensionDemo=function(_React$Component){function ChangingDimensionDemo(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChangingDimensionDemo),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(ChangingDimensionDemo).call(this,props)),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this),"interval",void 0),_this.state={width:100,height:100,padding:20,grow:!0},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ChangingDimensionDemo,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ChangingDimensionDemo,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.interval=setInterval((function(){_this2.setState((function(_ref){var width=_ref.width,height=_ref.height,grow=(_ref.padding,_ref.grow);return{width:width+(grow?1:-1),height:height+(grow?1:-1),grow:grow&&width<400||!grow&&100===width}}))}),10)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"render",value:function render(){var _this$state=this.state,SPEC={$schema:"https://vega.github.io/schema/vega-lite/v4.json",width:_this$state.width,height:_this$state.height,padding:_this$state.padding,data:{values:values,name:"source"},selection:{a:{type:"single"}},mark:"bar",encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"},tooltip:{field:"b",type:"quantitative"},color:{condition:{selection:"a",value:"steelblue"},value:"grey"}}};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_vega_src__WEBPACK_IMPORTED_MODULE_1__.a,{spec:SPEC})}}]),ChangingDimensionDemo}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component)},300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(20),__webpack_require__(22),__webpack_require__(23),__webpack_require__(18),__webpack_require__(115),__webpack_require__(125),__webpack_require__(55),__webpack_require__(90),__webpack_require__(126),__webpack_require__(17),__webpack_require__(26),__webpack_require__(21);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(56),createClassFromSpec=__webpack_require__(664),Vega=__webpack_require__(129),data1=__webpack_require__(297),spec1={$schema:"https://vega.github.io/schema/vega/v5.json",width:400,height:200,padding:{left:5,right:5,top:5,bottom:5},data:[{name:"table",values:[{category:"A",amount:28},{category:"B",amount:55},{category:"C",amount:43},{category:"D",amount:91},{category:"E",amount:81},{category:"F",amount:53},{category:"G",amount:19},{category:"H",amount:87}]}],signals:[{name:"tooltip",value:{},on:[{events:"rect:mouseover",update:"datum"},{events:"rect:mouseout",update:"{}"}]}],scales:[{name:"xscale",type:"band",domain:{data:"table",field:"category"},range:"width"},{name:"yscale",domain:{data:"table",field:"amount"},nice:!0,range:"height"}],axes:[{orient:"bottom",scale:"xscale"},{orient:"left",scale:"yscale"}],marks:[{type:"rect",from:{data:"table"},encode:{enter:{x:{scale:"xscale",field:"category",offset:1},width:{scale:"xscale",band:1,offset:-1},y:{scale:"yscale",field:"amount"},y2:{scale:"yscale",value:0}},update:{fill:{value:"steelblue"}},hover:{fill:{value:"red"}}}},{type:"text",encode:{enter:{align:{value:"center"},baseline:{value:"bottom"},fill:{value:"#333"}},update:{x:{scale:"xscale",signal:"tooltip.category",band:.5},y:{scale:"yscale",signal:"tooltip.amount",offset:-2},text:{signal:"tooltip.amount"},fillOpacity:[{test:"datum === tooltip",value:0},{value:1}]}}}]},spec2={$schema:"https://vega.github.io/schema/vega/v5.json",width:400,height:200,padding:{left:5,right:5,top:5,bottom:5},data:[{name:"table",values:[{category:"A",amount:28},{category:"B",amount:55},{category:"C",amount:43},{category:"D",amount:91},{category:"E",amount:81},{category:"F",amount:53},{category:"G",amount:19},{category:"H",amount:87}]}],signals:[{name:"tooltip",value:{},on:[{events:"rect:mouseover",update:"datum"},{events:"rect:mouseout",update:"{}"}]}],scales:[{name:"xscale",type:"band",domain:{data:"table",field:"category"},range:"width"},{name:"yscale",domain:{data:"table",field:"amount"},nice:!0,range:"height"}],axes:[{orient:"bottom",scale:"xscale"},{orient:"left",scale:"yscale"}],marks:[{type:"rect",from:{data:"table"},encode:{enter:{x:{scale:"xscale",field:"category",offset:10},width:{scale:"xscale",band:.5,offset:-1},y:{scale:"yscale",field:"amount"},y2:{scale:"yscale",value:0}},update:{fill:{value:"green"}},hover:{fill:{value:"yellow"}}}},{type:"text",encode:{enter:{align:{value:"center"},baseline:{value:"bottom"},fill:{value:"#333"}},update:{x:{scale:"xscale",signal:"tooltip.category",band:.5},y:{scale:"yscale",signal:"tooltip.amount",offset:-2},text:{signal:"tooltip.amount"},fillOpacity:[{test:"datum === tooltip",value:0},{value:1}]}}}]};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__.d(__webpack_exports__,"a",(function(){return ReactVegaDemo_Demo}));var BarChart=Object(createClassFromSpec.a)({spec:spec1}),_ref=react_default.a.createElement("iframe",{title:"star",src:"https://ghbtns.com/github-btn.html?user=vega&repo=react-vega&type=star&count=true",frameBorder:"0",scrolling:"0",width:"100px",height:"20px"}),_ref2=react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"<Vega>")," React Component"),_ref3=react_default.a.createElement("pre",null,"<Vega data={this.state.data} spec={this.state.spec} onSignalHover={this.handleHover} />"),_ref4=react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"ReactVega.createClassFromSpec()")),_ref5=react_default.a.createElement("pre",null,"const BarChart = ReactVega.createClassFromSpec(barSpec);\n<BarChart data={this.state.data} onSignalHover={this.handleHover} />"),ReactVegaDemo_Demo=function(_React$Component){function Demo(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Demo),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(Demo).call(this,props))).state={data:data1,info:"",spec:spec1},_this.handleHover=_this.handleHover.bind(_assertThisInitialized(_this)),_this.handleToggleSpec=_this.handleToggleSpec.bind(_assertThisInitialized(_this)),_this.handleUpdateData=_this.handleUpdateData.bind(_assertThisInitialized(_this)),_this.handlers={tooltip:_this.handleHover},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Demo,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Demo,[{key:"handleHover",value:function handleHover(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];Object(dist.action)("hover",{limit:5})(args),this.setState({info:JSON.stringify(args)})}},{key:"handleToggleSpec",value:function handleToggleSpec(){var spec=this.state.spec;Object(dist.action)("toggle spec")(spec),spec===spec1?this.setState({spec:spec2}):this.setState({spec:spec1})}},{key:"handleUpdateData",value:function handleUpdateData(){for(var table=[],i=1;20>=i;i+=1)table.push({amount:Math.round(100*Math.random()),category:String.fromCharCode(65+i)});Object(dist.action)("update data")(table),this.setState({data:{table:table}})}},{key:"render",value:function render(){var _this$state=this.state,data=_this$state.data,spec=_this$state.spec,info=_this$state.info;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{float:"right"}},_ref),react_default.a.createElement("button",{type:"button",onClick:this.handleToggleSpec},"Toggle Spec"),react_default.a.createElement("button",{type:"button",onClick:this.handleUpdateData},"Update data"),_ref2,"Will recompile when spec changes and update when data changes.",_ref3,react_default.a.createElement(Vega.a,{data:data,spec:spec,signalListeners:this.handlers}),_ref4,"Use the given spec to create a reusable component.",_ref5,react_default.a.createElement(BarChart,{data:data,signalListeners:this.handlers}),react_default.a.createElement("div",null,"Hover info: ",react_default.a.createElement("code",null,info)))}}]),Demo}(react_default.a.Component);ReactVegaDemo_Demo.displayName="Demo",ReactVegaDemo_Demo.__docgenInfo={description:"",methods:[{name:"handleHover",docblock:null,modifiers:[],params:[{name:"...args",type:null}],returns:null},{name:"handleToggleSpec",docblock:null,modifiers:[],params:[],returns:null},{name:"handleUpdateData",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Demo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/ReactVegaDemo.jsx"]={name:"Demo",docgenInfo:ReactVegaDemo_Demo.__docgenInfo,path:"stories/ReactVegaDemo.jsx"})},304:function(module,exports,__webpack_require__){__webpack_require__(305),__webpack_require__(451),module.exports=__webpack_require__(452)},369:function(module,exports){},452:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(24),__webpack_require__(18),__webpack_require__(17),__webpack_require__(25),__webpack_require__(21);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({options:{name:"âœ¨ React+Vega",addonPanelInRight:!1,enableShortcuts:!1,goFullScreen:!1,hierarchyRootSeparator:null,hierarchySeparator:/\|/,selectedAddonPanel:void 0,showAddonPanel:!0,showSearchBox:!1,showStoriesPanel:!0,sidebarAnimations:!0,sortStoriesByKind:!1,url:"#"}});var req=__webpack_require__(641);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(159)(module))},641:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":642,"./vegaLiteWithLayers.stories.tsx":662};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=641},642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),_ReactVegaDemo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(300),_ReactVegaLiteDemo__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(298),_ChangingDimensionDemo__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(299);__webpack_require__(643);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("react-vega",module).add("Vega",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ReactVegaDemo__WEBPACK_IMPORTED_MODULE_2__.a,null)})).add("VegaLite",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ReactVegaLiteDemo__WEBPACK_IMPORTED_MODULE_3__.a,null)})).add("Changing dimension",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChangingDimensionDemo__WEBPACK_IMPORTED_MODULE_4__.a,null)}))}.call(this,__webpack_require__(159)(module))},643:function(module,exports,__webpack_require__){var api=__webpack_require__(644),content=__webpack_require__(645);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},645:function(module,exports,__webpack_require__){(exports=__webpack_require__(646)(!1)).push([module.i,"body{\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n\nh1, h2, h3{\n  font-weight: 300;\n}\n\nh2{\n  color: #777;\n}\n\na, a:link, a:visited{\n  color: #5d7da7;\n  text-decoration: none;\n}\n\na:hover{\n  color: #232d5f;\n  text-decoration: underline;\n}\n\n#app{\n  margin-top: 10px;\n}\n\nfooter{\n  color: #aaa;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 20px;\n  padding-top: 40px;\n}",""]),module.exports=exports},662:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),_react_vega_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(190),DATA={myData:[{a:"A",b:20},{a:"B",b:34},{a:"C",b:55},{a:"D",b:19},{a:"E",b:40},{a:"F",b:34},{a:"G",b:91},{a:"H",b:78},{a:"I",b:25}]},SPEC={description:"A simple bar chart with embedded data.",layer:[{data:{name:"myData"},encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"}},mark:"bar"}]};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("react-vega",module).add("VegaLite with layers",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_vega_src__WEBPACK_IMPORTED_MODULE_2__.a,{spec:SPEC,data:DATA}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre",null,JSON.stringify(SPEC,null,2))))}))}.call(this,__webpack_require__(159)(module))},664:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createClassFromSpec}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Vega__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function createClassFromSpec(_ref){var mode=_ref.mode,spec=_ref.spec,FixedVegaChart=function(_React$PureComponent){function FixedVegaChart(){return _classCallCheck(this,FixedVegaChart),_possibleConstructorReturn(this,_getPrototypeOf(FixedVegaChart).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FixedVegaChart,_React$PureComponent),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FixedVegaChart,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Vega__WEBPACK_IMPORTED_MODULE_1__.a,_extends({mode:mode,spec:spec},this.props))}}]),FixedVegaChart}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(FixedVegaChart,"getSpec",(function getSpec(){return spec})),FixedVegaChart}}},[[304,1,2]]]);
//# sourceMappingURL=main.2b30087dd67fa523871e.bundle.js.map